<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>

    <title>Category</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">

</head>
<body>

<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <h5 class="my-0 mr-md-auto font-weight-normal">IEManager</h5>
    <nav class="my-2 my-md-0 mr-md-3">

        <div> <!--th:if="${user.isUser()}"-->
            <a class="p-2 text-dark" href="/aboutus">О нас</a>
            <a class="p-2 text-dark" href="/expenses">Расходы</a>
            <a class="p-2 text-dark" href="/incomes">Доходы</a>
            <a class="p-2 text-dark" href="/categories">Категории</a>
            <a class="p-2 text-dark" href="/hello">Личный кабинет</a>
            <!--
            <a class="p-2 text-dark" th:href="@{/category(userId=${user.getId()})}">Категории</a> -->
        </div>

        <!-- <div th:if="${user.isAdmin()}">
            <a class="p-2 text-dark" href="/users">Список пользователей</a>
        </div> -->

    </nav>

    <form th:action="@{/logout}" method="post">
        <input class="btn btn-outline-primary" type="submit" value="Выйти"/>
    </form>
</div>


<h1 align="center">Мои вкусы весьма специфичны!</h1>
<h1 align="center"> сейчас у тебя есть данные категории:</h1>
<br>


<!--table border="1" class="table-striped table-bordered" id = "categories" align="center" width="80%" height="50%" >

    <thead>
    <tr class="thread-dark">
        <th>Название категории</th>
        <th>Тип категории</th>
        <th>Действие</th>

    </tr>
    </thead>


    <tbody>

<tr th:each="category : ${categories}">
    <td><span th:text="${category.getName()}"> Название категории </span></td>
    <td><span th:text="${category.getType()} ? 'доход' : 'расход'"> Название категории </span></td>
    <td><a th:href="@{/categories/{id}(id=${category.getId()})}"> Редактировать </a></td>
</tr>
    </tbody>
</table-->

<div class="container mb-3 tb-3">
    <table border="1" class="table table-striped table-bordered" id = "categorytab">

        <thead>
        <tr class="thread-dark">
            <th>Название категории</th>
            <th>Тип категории</th>
            <th>Действие</th>

        </tr>
        </thead>

        <tbody>
        <tr th:each="category : ${categories}">
            <td><span th:text="${category.getName()}"> Название категории </span></td>
            <td><span th:text="${category.getType()} ? 'доход' : 'расход'"> Название категории </span></td>
            <td><a th:href="@{/categories/{id}(id=${category.getId()})}"> Редактировать </a></td>
        </tr>
        </tbody>
    </table>
</div>


<br>


<div class="container mb-3 tb-3" align="center">
    <h1 align="center">Ты так же можешь добавить новую категорию</h1>
    <br>
    <form th:action="@{/categories}" method="post">
        <label>
            <input type="text" class="form_input" name="categoryName" placeholder="Название категории">
        </label>


        <label>
            <select name="type">
                <option value="расход">Расход</option>
                <option value="доход">Доход</option>
            </select>
        </label>



        <button class="form_button" type="submit">Добавить категорию</button>
    </form>

</div>




<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script type="text/javascript" src="//cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>

<script>
    $(document).ready( function () {
        $('#categorytab').DataTable();
    } );
</script>


</body>
</html>